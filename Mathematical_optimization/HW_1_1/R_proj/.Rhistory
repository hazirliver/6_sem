x <- 0:3
knitr::opts_chunk$set(echo = TRUE)
options(digits = 2)
x <- 0:3
D(f, "x")
x <- 0:3
x
f <- function(x)
{
2*x^3 + 9*x^2 -24*x -30
}
y <- f(x)
y
xy <- x * y
xy
x_sq <- x^2
x_sq
x
2*x^3 + 9*x^2 -24*x -30
y
xy
x_sq <- x^2
x_sq
f <- function(x)
{
2*x^3 + 9*x^2 -24*x -30
}
x
xy
x_sq
sum(x)
sum(x_sq)
sum(x)
sum(y)
sum(xy)
sum(x_sq)
sum(x^2)
sum(x)
sum(y)
sum(xy)
sum(x_sq)
sum(x^2)
sum(x)^2
sum(x)
sum(y)
sum(xy)
sum(x_sq)
sum(x^2)
sum(x)^2
(sum(x))
sum(x)
sum(y)
sum(xy)
sum(x_sq)
sum(x^2)
sum(x)^2
lm(y~x)
4*4 + 6*66
4*14 -36
412/20
options(digits = 4)
412/20
-66 - 20.6*6
-189.6 / 4
plot(f(x))
x_for_plot <- seq(0,3,0.01)
x_for_plot
plot(f(x))
plot(f(x_for_plot))
plot(f(x_for_plot), type = "l")
abline(lm(y~x))
plot(f(x_for_plot), type = "l")
lines(lm(y~x))
lm(y~x)
lines(lm(y~x))
plot.lm(lm(y~x))
plot(f(x_for_plot), type = "l")
lm(y~x)[1]
plot.lm(lm(y~x)$coefficients)
plot(lm(y~x)$coefficients)
plot(f(x_for_plot), type = "l")
abline(lm(y~x)$coefficients)
plot(f(x_for_plot), type = "l")
abline(lm(y~x)$coefficients)
plot(f(x_for_plot), type = "l")
abline(lm(y~x)$coefficients)
plot(f(x_for_plot)~x_for_plot, type = "l")
plot(f(x_for_plot)~x_for_plot, type = "l")
abline(lm(y~x)$coefficients)
plot(f(x_for_plot)~x_for_plot, type = "l", lwd = 2)
abline(lm(y~x)$coefficients, col = "lightgreen")
plot(f(x_for_plot)~x_for_plot, type = "l", lwd = 2)
abline(lm(y~x), col = "lightgreen")
plot(f(x_for_plot)~x_for_plot, type = "l", lwd = 2, col = "lightblue")
abline(lm(y~x), col = "lightgreen", lwd = 2)
lm(y~x)$Coefficients
f(u1)
u1 <- (a+b-d)/2
a <- 0
b <- 3
d <- 0.1
u1 <- (a+b-d)/2
u1
u2 <- (a+b+d)/2
u2
f(u1)
f(u2)
a1 <- a
b1 <- u2
u3 <- (a1+b1-d)/2
u3
u4 <- (a1+b1+d)/2
u4
f(u3)
f(u4)
options(digits = 5)
u3 <- (a1+b1-d)/2
u3
u4 <- (a1+b1+d)/2
u4
f(u3)
f(u4)
f(u3)
f(u4)
u1 <- a + (3-sqrt(5))/2 * (b-a)
u1
u2 <- a + (sqrt(5) - 1)/2 * (b-a)
u2
f(u1)
f(u2)
u2_ <- u2
a2 <- a
b2 <- u2
u2_tmp <- u2
(a2 <- a)
(b2 <- u2)
(u2_tmp <- u2)
u3
f(u2_tmp)
f(u3)
knitr::opts_chunk$set(echo = TRUE, comment = NA)
options(digits = 5)
h <- 0.2
u0 <- 1.5
f(u0)
u1 <- u0 + h
u1
f(u1)
u2 <- u0 + 2^(2-1) * h
u2
f(u2)
u0 < u1
u0 < u1 < u2
u0 < (u1 < u2)
u1 < u2
check_convex <- function(x1,x2,x3)
{
chk1 <- (x1 < x2) & (x2<x3)
}
check_convex(u1,u2,u3)
check_convex <- function(x1,x2,x3)
{
chk1 <- (x1 < x2) & (x2<x3)
chk1
}
check_convex(u1,u2,u3)
check_convex(u0,u1,u2)
check_convex <- function(x1,x2,x3, f)
{
chk1 <- (x1 < x2) & (x2<x3)
chk2 <- f(x1) >= f(x)
chk2
}
check_convex(u0,u1,u2,f)
check_convex <- function(x1,x2,x3, f)
{
chk1 <- (x1 < x2) & (x2<x3)
chk2 <- f(x1) >= f(x2)
chk2
}
check_convex <- function(x1,x2,x3, f)
{
chk1 <- (x1 < x2) & (x2<x3)
chk2 <- f(x1) >= f(x2)
chk2
}
check_convex(u0,u1,u2,f)
check_convex <- function(x1,x2,x3, f)
{
chk1 <- (x1 < x2) & (x2<x3)
chk2 <- f(x1) >= f(x2)
chk3 <- f(x2) <= f(x3)
chk4 <- (f(x1) + f(x3)) > 2*f(x2)
return(chk1 & chk2 & chk3 & chk4)
}
check_convex(u0,u1,u2,f)
u3 <- u0 + 2^(3-1) * h
u3
f(u3)
check_convex(u1,u2,u3)
check_convex(u1,u2,u3, f)
check_convex <- function(x1,x2,x3, f)
{
chk1 <- (x1 < x2) & (x2<x3)
chk2 <- f(x1) >= f(x2)
chk3 <- f(x2) <= f(x3)
chk4 <- (f(x1) + f(x3)) > 2*f(x2)
return(list(chk1 , chk2 , chk3 , chk4))
}
check_convex(u0,u1,u2,f)
check_convex(u1,u2,u3, f)
check_convex <- function(x1,x2,x3, f)
{
chk1 <- (x1 < x2) & (x2<x3)
chk2 <- f(x1) >= f(x2)
chk3 <- f(x2) <= f(x3)
chk4 <- (f(x1) + f(x3)) > 2*f(x2)
return(c(chk1 , chk2 , chk3 , chk4))
}
check_convex(u0,u1,u2,f)
check_convex(u1,u2,u3, f)
f(u1)
f(u2)
f(u1)
f(u2)
f(u1)
f(u2)
u4 <- u0 + 2^(4-1) * h
u4
check_convex(u2,u3,u4,f)
u5 <- u0 + 2^(5-1) * h
u5
check_convex(u3,u4,u5,f)
f(u3)
f(u4)
w <- b
f(w)
min(f(w), f(u0), f(u1), f(u2), f(u3), f(u4))
min(f(w), f(u0), f(u1), f(u2), f(u3))
min(f(w), f(u0), f(u1), f(u2), f(u3))
which.min(f(w), f(u0), f(u1), f(u2), f(u3))
min(f(w), f(u0), f(u1), f(u2), f(u3))
D(f,"x")
D(as.expression(f),"x")
f
as.expression(f)
expression(f)
f_e <- expression(2*x^3 + 9*x^2 -24*x -30)
D(f_e, "x")
deriv(f_e, "x")
deriv3(f_e, "x")
f(0)
f(3)
f(2)
View(f)
84*(0)-194
84*(1)-194
-84*(1)+142
-84*(2)+142
-84*(2)-26
-84*(2.5)-26
84*(2.5)-278
84*(3)-278
###########################################
84*(0)-194
84*(1)-194
f(2)
f
84*(0)-194
84*(2)-194
-84*(2)+142
-84*(3)+142
f_d <- function(x)
{
6x^2+18x-24
f_d <- function(x)
{
6*x^2+18*x-24
}
a <- 0
f_d(a)
f_d(b)
c0 <- (a+b)/2
c0
f_d(c0)
b1 <- c0
c1
c1 <- (a1+b1)/2
c1
f_d(c1)
a2 <- c1
b2 <- b1
c2
c2 <- (a2+b2)/2
c2
f(c2)
ck <- function(a,b,fd)
{
(fd(b)*a - fd(a)*b)/(fd(b) - fd(a))
}
ck(a0,b0,f_d)
a0 <- 0
b0 <- 3
f_d <- function(x)
{
6*x^2+18*x-24
}
f_d(a0)
f_d(b0)
ck <- function(a,b,fd)
{
(fd(b)*a - fd(a)*b)/(fd(b) - fd(a))
}
ck(a0,b0,f_d)
c0 <- ck(a0,b0,f_d)
c0
f_d(c0)
knitr::opts_chunk$set(echo = TRUE, comment = NA)
options(digits = 5)
a1 <- c0
b1 <- b0
a1 <- c0
b1 <- b0
c1 <- ck(a1,b1,f_d)
c1
f_d(c1)
a2 <- c1
b2 <- b1
c2 <- ck(a2,b2,f_d)
c2
f(c2)
a2 <- c1
b2 <- b1
c2 <- ck(a2,b2,f_d)
c2
f(c2)
f_2d <- function(x)
{
12*x+18
}
x0 <- 2
x1 <- x0 - f_d(x0) / f_2d(x0)
x1
x2
x2 <- x1 - f_d(x1) / f_2d(x1)
x2
x2 <- x1 - f_d(x1) / f_2d(x1)
x2
f(x2)
84*(0)-194
84*(1)-194
-84*(1)-26
-84*(1)-142
f_d <- function(x)
{
6*x^2+18*x-24
}
84*(0)-194
84*(1)-194
-84*(1)-26
-84*(2)-26
-84*(2)+142
-84*(3)+142
-84*(0)-26
-84*(1)-26
84*(1)-194
84*(2)-194
-84*(2)+142
-84*(3)+142
View(f)
